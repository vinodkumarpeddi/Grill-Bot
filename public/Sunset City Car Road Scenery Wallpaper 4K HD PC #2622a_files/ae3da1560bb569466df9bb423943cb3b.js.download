(function(){'use strict';/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var h=this||self;function l(a,b){a=a.split(".");for(var c=h,d;a.length&&(d=a.shift());)a.length||b===void 0?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b}function ba(a){return a};function ca(a){h.setTimeout(()=>{throw a;},0)};var m,p;a:{for(var q=["CLOSURE_FLAGS"],u=h,v=0;v<q.length;v++)if(u=u[q[v]],u==null){p=null;break a}p=u}var w=p&&p[610401301];m=w!=null?w:!1;var x;const y=h.navigator;x=y?y.userAgentData||null:null;function z(a){return m?x?x.brands.some(({brand:b})=>b&&b.indexOf(a)!=-1):!1:!1}function A(a){var b;a:{if(b=h.navigator)if(b=b.userAgent)break a;b=""}return b.indexOf(a)!=-1};function B(){return m?!!x&&x.brands.length>0:!1}function C(){return B()?z("Chromium"):(A("Chrome")||A("CriOS"))&&!(B()?0:A("Edge"))||A("Silk")};!A("Android")||C();C();A("Safari")&&(C()||(B()?0:A("Coast"))||(B()?0:A("Opera"))||(B()?0:A("Edge"))||(B()?z("Microsoft Edge"):A("Edg/"))||B()&&z("Opera"));let D=void 0;function E(a){if(a!=null){var b;var c=(b=D)!=null?b:D={};b=c[a]||0;b>=5||(c[a]=b+1,a=Error(),a.__closure__error__context__984382||(a.__closure__error__context__984382={}),a.__closure__error__context__984382.severity="incident",ca(a))}};var da=new Set;function F(a,b=!1,c=!1){a=c&&Symbol.for&&a?Symbol.for(a):a!=null?Symbol(a):Symbol();b&&da.add(a);return a}var G=F(),H=F(void 0,!0),ea=F(),fa=F();const I=F("jas",!0,!0);function ha(a,b){b[I]=(a|0)&-30975}function J(a,b){b[I]=(a|34)&-30941};var K={};function M(a){return a!==null&&typeof a==="object"&&!Array.isArray(a)&&a.constructor===Object}function N(a,b){const c=ba(H);(b=c?b[c]:void 0)&&(a[H]=Array.prototype.slice.call(b))};var O=typeof h.BigInt==="function"&&typeof h.BigInt(0)==="bigint";const ia=Number.MIN_SAFE_INTEGER.toString(),ja=O?BigInt(Number.MIN_SAFE_INTEGER):void 0,ka=Number.MAX_SAFE_INTEGER.toString(),la=O?BigInt(Number.MAX_SAFE_INTEGER):void 0;function P(a,b){if(a.length>b.length)return!1;if(a.length<b.length||a===b)return!0;for(let c=0;c<a.length;c++){const d=a[c],e=b[c];if(d>e)return!1;if(d<e)return!0}};function ma(a){return a};function na(a,b,c){const d=Array.prototype.slice.call(a);var e=d.length;const f=b&256?d[e-1]:void 0;e+=f?-1:0;for(b=b&512?1:0;b<e;b++)d[b]=c(d[b]);if(f){b=d[b]={};for(const g in f)b[g]=c(f[g])}N(d,a);return d}function Q(a,b,c,d,e){if(a!=null){if(Array.isArray(a)){const f=a[I]|0;return a.length===0&&f&1?void 0:e&&f&2?a:R(a,b,c,d!==void 0,e)}return b(a,d)}}
function R(a,b,c,d,e){const f=d||c?a[I]|0:0;d=d?!!(f&32):void 0;const g=Array.prototype.slice.call(a);let k=0;const n=g.length;for(let r=0;r<n;r++){var t=g[r];if(r===n-1&&M(t)){var wa=b,xa=c,ya=d,za=e;let L=void 0;for(let Y in t){const Z=Q(t[Y],wa,xa,ya,za);if(Z!=null){let aa;((aa=L)!=null?aa:L={})[Y]=Z}}t=L}else t=Q(g[r],b,c,d,e);g[r]=t;t!=null&&(k=r+1)}k<n&&(g.length=k);c&&(N(g,a),c(f,g));return g}
function oa(a){switch(typeof a){case "number":return Number.isFinite(a)?a:""+a;case "bigint":return(O?a>=ja&&a<=la:a[0]==="-"?P(a,ia):P(a,ka))?Number(a):""+a;case "boolean":return a?1:0;case "object":if(a!=null&&a instanceof Uint8Array){a!=null&&a instanceof Uint8Array&&E(fa);let b="",c=0;const d=a.length-10240;for(;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);return btoa(b)}if(a.o===K)return pa(a);return}return a}let qa;
function pa(a){var b=a.m;a=R(b,oa,void 0,void 0,!1);var c=b[I]|0;if((b=a.length)&&!(c&512)){var d=a[b-1],e=!1;M(d)?(b--,e=!0):d=void 0;var f,g=(f=qa)!=null?f:ma;f=c&512?0:-1;c=b-f;g=g(c,f,a,d);d&&(a[b]=void 0);if(c<g&&d){c=!0;for(var k in d){const n=+k;if(n<=g)e=n+f,a[e]=d[k],b=Math.max(e+1,b),e=!1,delete d[k];else{c=!1;break}}c&&(d=void 0)}for(c=b-1;b>0;c=b-1)if(k=a[c],k==null)b--,e=!0;else if(c-=f,c>=g){let n;((n=d)!=null?n:d={})[c]=k;b--;e=!0}else break;e&&(a.length=b);d&&a.push(d)}return a};function ra(){E(ea)};function sa(a,b,c=J){if(a!=null){if(a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){var d=a[I]|0;if(d&2)return a;b&&(b=d===0||!!(d&32)&&!(d&64||!(d&16)));return b?(a[I]=d|34,d&4&&Object.freeze(a),a):R(a,sa,d&4?J:c,!0,!0)}a.o===K&&(c=a.m,d=c[I]|0,a=d&2?a:new a.constructor(ta(c,d,!0)));return a}}function ta(a,b,c){const d=c||b&2?J:ha,e=!!(b&32);a=na(a,b,f=>sa(f,e,d));a[I]=a[I]|32|(c?2:0);return a};function S(a,b,c){a=a.m;let d=a[I]|0;if(d&2)throw Error();if(c===-1)var e=null;else{e=c+(d&512?0:-1);var f=a.length-1;e=e>=f&&d&256?a[f][c]:e<=f?a[e]:void 0}if(e!=null&&typeof e==="object"&&e.o===K)b=e;else if(Array.isArray(e)){var g=f=e[I]|0;g===0&&(g|=d&32);g|=d&2;g!==f&&(e[I]=g);b=new b(e)}else d&2?((f=b[G])||(g=new b,f=g.m,f[I]|=34,f=b[G]=g),b=f):b=new b;f=b.m;g=f[I]|0;b=g&2?new b.constructor(ta(f,g,!1)):b;e!==b&&(e=d&512?0:-1,f=c+e,g=a.length-1,f>=g&&d&256?a[g][c]=b:f<=g?a[f]=b:b!==void 0&&(g=
d>>15&1023||536870912,c>=g?b!=null&&(a[g+e]={[c]:b},a[I]=d|256):a[f]=b));return b};var T=class{constructor(a){a:{if(a==null){var b=96;a=[]}else{if(!Array.isArray(a))throw Error("narr");b=a[I]|0;16384&b||!(64&b)||2&b||ra();if(b&2048)throw Error("farr");if(b&64){var c=a;break a}var d=a;b|=64;var e=d.length;if(e){var f=e-1;e=d[f];if(M(e)){b|=256;const g=b&512?0:-1;f-=g;if(f>=1024)throw Error("pvtlmt");for(c in e){const k=+c;if(k<f)d[k+g]=e[c],delete e[c];else break}b=b&-33521665|(f&1023)<<15}}}a[I]=b;c=a}this.m=c}toJSON(){try{var a=pa(this)}finally{qa=void 0}return a}};
T.prototype.o=K;T.prototype.toString=function(){return this.m.toString()};function ua(a){return b=>{if(b==null||b=="")b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error("dnarr");b[I]|=32;b=new a(b)}return b}};var va=class extends T{};var Aa=class extends T{};var Ba=class extends T{};var Ca=ua(class extends T{});function U(a,b){a=a.getElementsByTagName("META");for(let c=0;c<a.length;++c)if(a[c].getAttribute("name")===b)return a[c].getAttribute("content")||"";return""};function V(a,b){a.body.dispatchEvent(new CustomEvent(b,{detail:void 0}))}
var Da=class{constructor(a){this.body=a;this.g=[];U(a,"sampling_mod");var b=U(a,"namespace");if(!b){b="ns-"+(0,Math.random)().toString(36).substr(2,5);a:{var c=a.getElementsByTagName("META");for(let d=0;d<c.length;++d)if(c[d].getAttribute("name")==="namespace"&&c[d].getAttribute("index")===(0).toString()){c[d].setAttribute("content",b);break a}c=a.querySelector("#mys-meta");c||(c=document.createElement("div"),c.id="mys-meta",c.style.position="absolute",c.style.display="none",a.appendChild(c));a=document.createElement("META");
a.setAttribute("name","namespace");a.setAttribute("content",b);a.setAttribute("index",(0).toString());c.appendChild(a)}}if(!(this.g.length>0)){a=U(this.body,"environment");for(const d of a.split("|"))d&&this.g.push(d)}}};var Ea=ua(class extends T{});function Fa(a){if(a.i.offsetWidth<=1||a.i.offsetHeight<=1)return!1;a.g.remove();V(a.l,"spanReady");return!0}
var Ga=class{constructor(a){this.l=a;this.config={B:!1,v:100};this.i=document.createElement("span");this.g=document.createElement("div");this.i.style.fontSize="6px";this.i.textContent="go";this.g.style.position="absolute";this.g.style.top="100%";this.g.style.left="100%";this.g.style.width="1px";this.g.style.height="0";this.g.style.overflow="hidden";this.g.style.visibility="hidden";this.g.appendChild(this.i)}wait(){if(!this.config.B&&(V(this.l,"spanStart"),this.l.body.appendChild(this.g),!Fa(this)))return new Promise(a=>
{const b=setInterval(()=>{Fa(this)&&(clearInterval(b),a())},this.config.v)})}};var Ha=class{constructor(a){this.config=a;this.g=S(a,Aa,1);S(a,Ba,12);S(this.g,va,10)}};function Ia(a){a.l.length=0;a.i=!0}function Ja(a,b){a.g=!0;const c=()=>{a.i=!1;const d=a.l.shift();return d===void 0?(a.g=!1,Promise.resolve()):Ja(a,d())};return b?b.then(c,()=>{if(a.i)return c();a.g=!1;return Promise.reject()}):c()}function Ka(a,b){for(const c of b)a.l.push(c);if(!a.g)return Ja(a)}var La=class{constructor(){this.i=this.g=!1;this.l=[]}};function Ma(a){Ia(a.s);return Ka(a.s,[()=>{if(!a.u){var b=U(a.i.body,"render_config")||"[]";b=Ea(b);b=new Ha(b);a.u=b}b=(new Ga(a.i)).wait();V(a.i,"browserStart");V(a.i,"browserStartEnd");a.g&=-31;a.g|=2;return b},()=>{V(a.i,"browserReady");V(a.i,"browserReadyEnd");a.g|=4;V(a.i,"overallReady")},()=>{V(a.i,"browserQuiet");V(a.i,"browserQuietEnd");a.g|=8}])}function Na(a){Ca(U(a.i.body,"engine_msg")||"[]");return Ma(a)||Promise.resolve()}
var W=class{constructor(a,b){this.s=new La;this.g=0;this.i=new Da(b)}A(){return this.g}l(){this.g&=-31;this.g|=1;let a=0;const b=this.i.body;b.addEventListener("browserRender",()=>{++a;if(a===1)V(this.i,"overallStart"),Na(this).then(()=>{V(this.i,"overallQuiet")});else{var c=b.clientHeight;b.clientWidth&&c&&Na(this)}})}};let X;l("mys.engine.init",(a,b)=>{X=new W(a,b);X.l()});l("mys.engine.stage",()=>{let a;return((a=X)==null?void 0:a.g)||0});l("mys.Engine",W);l("mys.Engine.prototype.i",W.prototype.l);l("mys.Engine.prototype.s",W.prototype.A);}).call(this);
